(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(20),c=n.n(s),o=(n(45),n(12)),u=n(13),i=n(16),d=n(15),l=(n(46),n(21)),p=n(6),h=n(19),j=n.n(h),b=n(25),m=n(39),O=n.n(m),f="START_GET_USERS_REQUEST",g="GET_USERS_SUCCESS",v="START_POST_USER_REQUEST",x="POST_USER_SUCCESS",S="GET_POSTS_REQUEST",y="GET_POSTS_SUCCESS",C="POST_POST_REQUEST",U="POST_POST_SUCCESS";var T=function(){return{type:f}},k=function(e){return{type:g,payload:e}},E=function(){return{type:v}},P=function(e){return{type:x,payload:Object(p.a)({},e)}},_=function(){return{type:C}},w=function(e){return{type:U,payload:e}},N=n(17),A=n(3),I=(n(72),n(1)),R=function(e){var t=e.props;return Object(I.jsxs)("div",{className:"user",children:[Object(I.jsx)("img",{className:"user-img",src:t.avatar,alt:"avatar"}),Object(I.jsx)("span",{className:"name",children:t.name}),Object(I.jsx)("span",{className:"username",children:t.username})]})},J=function(e){return e.map((function(e){return Object(I.jsx)(R,{props:e},e.id)}))},D=function(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{children:"Users"}),J(e.users)]})},F=n(14),G=(n(74),function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",nickname:"@",image:""},e.count=0,e.onChangeUserInput=function(t){var n=t.target.name,a=t.target.value;"nickname"!==n?e.setState(Object(F.a)({},n,a)):e.state.nickname.split("").includes("@")?e.setState({nickname:a}):e.setState({nickname:"@"+a})},e.onAddUser=function(){var t={name:e.state.name,username:e.state.nickname,avatar:e.state.image};e.setState({name:""}),e.setState({nickname:"@"}),e.setState({image:""}),e.props.addUser(t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{className:"add-user-form",children:[Object(I.jsx)("h1",{children:"Add User"}),Object(I.jsx)("input",{type:"text",name:"name",value:this.state.name,placeholder:"name",onChange:function(t){return e.onChangeUserInput(t)}}),Object(I.jsx)("input",{type:"text",name:"nickname",value:this.state.nickname,placeholder:"nickname",onChange:function(t){return e.onChangeUserInput(t)}}),Object(I.jsx)("input",{type:"text",name:"image",value:this.state.image,placeholder:"image link",onChange:function(t){return e.onChangeUserInput(t)}}),Object(I.jsx)("button",{type:"button",className:"add-user-btn",onClick:function(){return e.onAddUser()},children:"Add user"})]})}}]),n}(r.a.Component)),Q=(n(75),function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={author:"Anakin Skywalker",text:"",img:""},e.handleInputChange=function(t){var n=t.target.name,a=t.target.value;e.setState(Object(F.a)({},n,a)),e.setState({id:t.target.id})},e.sentData=function(){var t=e.props.users.filter((function(t){return t.name===e.state.author}))[0].id;console.log(t);var n={userId:t,content:e.state.text,image:e.state.img};e.setState({text:""}),e.setState({img:""}),e.props.addPost(n)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("form",{className:"add-user-form",children:[Object(I.jsx)("h1",{children:"Add Post"}),Object(I.jsx)("select",{name:"author",id:"",onChange:this.handleInputChange,children:B(this.props.users)}),Object(I.jsx)("input",{name:"text",placeholder:"post text",value:this.state.text,onChange:this.handleInputChange,type:"text"}),Object(I.jsx)("input",{name:"img",placeholder:"image url",value:this.state.img,onChange:this.handleInputChange,type:"text"}),Object(I.jsx)("button",{type:"button",onClick:this.sentData,className:"add-user-btn",children:" Add Post"})]})}}]),n}(r.a.Component)),B=function(e){return e.map((function(e){return Object(I.jsx)("option",{name:"author",value:e.name,children:e.name},e.id)}))},L=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"header",children:Object(I.jsxs)("ul",{className:"menu",children:[Object(I.jsx)("li",{children:Object(I.jsx)(N.b,{to:"/users",children:"Users"})}),Object(I.jsx)("li",{children:Object(I.jsx)(N.b,{to:"/addUser",children:"Add User"})}),Object(I.jsx)("li",{children:Object(I.jsx)(N.b,{to:"/addTweetOnServer",children:"Add Post"})})]})}),Object(I.jsxs)(A.c,{children:[Object(I.jsx)(A.a,{path:"/users",children:Object(I.jsx)(D,{users:this.props.users})}),Object(I.jsx)(A.a,{path:"/addUser",children:Object(I.jsx)(G,{addUser:this.props.addUser})}),Object(I.jsx)(A.a,{path:"/addTweetOnServer",children:Object(I.jsx)(Q,{users:this.props.users,addPost:this.props.postPost})})]})]})}}]),n}(r.a.Component),M=Object(l.b)((function(e){return console.log(e.post.data),{post:{data:e.post.data,users:e.user.data},users:e.user.data}}),(function(e){return{getUsers:function(){return e((function(e){e(T()),O.a.get("http://domer.tech:9999/users").then((function(t){e(k(t.data))}))}))},addUser:function(t){return e(function(e){var t=e.name,n=e.username,a=e.avatar,r={name:t,username:n,avatar:a};return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E()),e.prev=1,e.next=4,fetch("http://domer.tech:9999/users",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,console.log("Success:",JSON.stringify(a)),P(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}(t))},postPost:function(t){return e(function(e){var t=e.userId,n=e.content,a=e.image,r={userId:t,content:n,image:a};return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_()),e.prev=1,e.next=4,fetch("http://domer.tech:9999/tweets",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,console.log("Success:",JSON.stringify(a)),w(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}(t))}}}))(L),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},z=n(10),H=n(40),K={data:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return e;case y:return Object(p.a)(Object(p.a)({},e),{},{data:t.payload});case C:return e;case U:return Object(p.a)(Object(p.a)({},e),{},{data:t.payload});default:return e}},W={data:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(p.a)({},e);case g:return Object(p.a)(Object(p.a)({},e),{},{data:t.payload.data});case v:return Object(p.a)({},e);case x:return console.log("posted user"),Object(p.a)({},e);default:return e}},Y=Object(z.c)({post:V,user:X}),Z=Object(z.d)(Y,Object(z.a)(H.a));c.a.render(Object(I.jsx)(l.a,{store:Z,children:Object(I.jsx)(N.a,{children:Object(I.jsx)(M,{})})}),document.getElementById("root")),q()}},[[79,1,2]]]);
//# sourceMappingURL=main.a1de9e28.chunk.js.map